{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### TECHNICAL REPORT - ANALYSING MOVIE GENRE PREDICTION\n",
    "\n",
    "### Problem Statement\n",
    "\n",
    "\n",
    "<b>How can we classify a movie genre based on the subreddit posts using strongly asssociated words?</b>\n",
    "\n",
    "Rotten Tomatoes and the Tomatometer score are the world’s most trusted recommendation resources for quality entertainment. It is one the leading online aggregator of movie and TV show reviews from critics and audience.\n",
    "\n",
    "However, one of the current limitation with the movie database is that categorization into movie genres is still a manual process performed by our highly-esteemed curators. As this process is manual, it can lead to inaccurate classification of a movie into specific genre and has been challenged numerous times by our fans. This is because each person may have an opinion on what is the most suitable genre a movie belongs in.\n",
    "\n",
    "Thus, instead of depending on any one person's opinion on a movie genre, we intend to leverage on natural language processing algorithms to determine the most suitable movie genre.This is a binary classification problem and a model can be build using natural language processing to predict the movie genre . As such, an exploratory team has been tasked to start on a pilot model that focuses on simply 2 genres: science fiction and horror as the variable to classify upon given a paragraph of words.\n",
    "\n",
    "Why is genre classification is important ?\n",
    "- Genre is imp for recommendation of a movie\n",
    "- Without the characterizations viewers face an overwhelming number of choices\n",
    "- Prediction of a genre can help user to discover other similar movies of the same ilk\n",
    "- Better user experience\n",
    "- Potential revisits to increase user engagement and revenue for business\n",
    "\n",
    "\n",
    "### Executive Summary\n",
    "\n",
    "For this project, we will consider the 2 classes: Sci-Fi and Horror movies.\n",
    "Following sub-reddits are used to classify the movies:\n",
    "\n",
    "- <a href=\"https://www.reddit.com/r/scifimovies/\">r/scifimovies</a>\n",
    "- <a href=\"https://www.reddit.com/r/HorrorMovies/\">r/HorrorMovies</a>\n",
    "\n",
    "After scraping, we will look at the most common words for each category - scifi and horror movies. After which, we will run a few models to consider if raw, pre-processed or lemmatization will yield the highest score. Once we can determine the type of data, we will run a grid search on the parameters that will give the best results.\n",
    "\n",
    "\n",
    "### Data Dictionary\n",
    "\n",
    "|      Feature      |  Type  |     Dataset    |                  Description                 |\n",
    "|:-----------------:|:------:|:--------------:|:--------------------------------------------:|\n",
    "| df_horror.content | string | r/HorrorMovies | HorrorMovies scraped from reddit             |\n",
    "| df_scifi.content  | string | r/scifi        | Scifi movies scraped from reddit             |\n",
    "| df_master.content | string |                | Combined Horror and Scifi data               |\n",
    "| is_horror         | int    |                | 1: source is HorrorMovies 0: source is scifi |\n",
    "\n",
    "\n",
    "###  Final Model - TfidfVectorizer with MultinomialNB\n",
    "\n",
    "\n",
    "\n",
    "|            | Predicted No     | Predicted Yes    | 0.71  prevalence         | .90 accuracy          |\n",
    "|------------|-------------------|------------------|--------------------------|-------------------------|\n",
    "| Actual No  | TN= 62            | FP= 26 (type 1)          | precision=.89            | false discovery=.10    |\n",
    "| Actual Yes | FN=2  (Type 2)             | TP= 219             | false omission=.03   | negative predictive=.96     |\n",
    "|            |   sensitivity=.99| fall out rate=0.29    |  positive likelihood=3.35 | diagnostic odds |\n",
    "|            | miss rate=.009         |  specificity=.70 |  negative likelihood=0.01|  F1 score= .93          |\n",
    "\n",
    "### Conclusions\n",
    "- Looking at the scores it can be concluded that the model was successfully trained to classify the movie genre\n",
    "- Both Naive Bayes and Logistic Regression are used for classification problems.\n",
    "- Both Logistic Regression and Naïve Bayes’s f1 score are relatively close (0.939326 vs 0.934), thus it depends on which trade-off we want in our model (high Precision/low Recall or low Precision/high Recall). \n",
    "- We have chosen Naïve Bayes’s  which has lower precision and higher Recall.  \n",
    "- Naïve Bayes’s has a higher Recall of 0.99 (recall means that an algorithm returned most of the relevant results) \n",
    "\n",
    "### Recommendations\n",
    "\n",
    "- Though the model works well for the current data size and imbalace, it will be definitely more emhance the classification process \n",
    "if the sample size is increased by scraping more content (from a different platform)\n",
    "\n",
    "- Future implementation to create a multi-genre classification should be considered as the binary classifcation model appears to have a good score \n",
    "\n",
    "- Train the model with multiple target variables\n",
    "\n",
    "### Takeaways & Improvements\n",
    "\n",
    "- Model accurately predicts subreddit source\n",
    "- Change the source of data to collect more data\n",
    "- Horror subreddit is less descriptive than Sci-fi \n",
    "(dataset is key)\n",
    "- To ensure proportion of scraped data is uniform"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.4"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
